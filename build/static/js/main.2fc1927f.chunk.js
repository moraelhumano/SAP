(this["webpackJsonpreact-firebase-crud"]=this["webpackJsonpreact-firebase-crud"]||[]).push([[0],{31:function(e,a,t){e.exports=t(48)},36:function(e,a,t){},37:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),o=t.n(c),l=(t(36),t(37),t(17)),i=t(1),s=t(9),u=(t(38),t(3)),m=t.n(u),p=t(5),d=t(11),f=t(12),E=t(16),b=t(29),v=t.n(b),g=(t(40),v.a.initializeApp({apiKey:"AIzaSyAeJKDVKWYKjZcBffFq6axiqEU4iNupVIo",authDomain:"rifas-ce773.firebaseapp.com",databaseURL:"https://rifas-ce773.firebaseio.com",projectId:"rifas-ce773",storageBucket:"rifas-ce773.appspot.com",messagingSenderId:"155210069413",appId:"1:155210069413:web:62b2326be467a1ccf0244c"}).firestore()),h=function(e){var a={episodeName:"",noEpisode:"",format:"QFDE",description:"",img:"",audio:"",specialGuest:"",igGuest:""},t=Object(n.useState)(a),c=Object(f.a)(t,2),o=c[0],l=c[1],i=function(e){var a=e.target,t=a.name,n=a.value;l(Object(p.a)(Object(p.a)({},o),{},Object(E.a)({},t,n)))},s=function(){var e=Object(d.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("links").doc(a).get();case 2:t=e.sent,l(Object(p.a)({},t.data()));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""===e.currentId?l(Object(p.a)({},a)):s(e.currentId)}),[e.currentId]),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addOrEditLink(o),l(Object(p.a)({},a))},className:"card card-body border-primary"},r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("input",{type:"text",value:o.episodeName,name:"episodeName",placeholder:"Nombre del cap\xedtulo",className:"form-control",onChange:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",className:"form-control",placeholder:"N\xfamero de c\xe1pitulo",value:o.noEpisode,name:"noEpisode",onChange:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{rows:"3",className:"form-control",placeholder:"Descripci\xf3n del episodio",name:"description",value:o.description,onChange:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre del invitado",value:o.specialGuest,name:"specialGuest",onChange:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ingresa el ig del invitado",value:o.igGuest,name:"igGuest",onChange:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ingresa la url del audio",value:o.audio,name:"audio",onChange:i})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Url para la imagen",value:o.img,name:"img",onChange:i})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("select",{onChange:i,name:"format"},r.a.createElement("option",{value:"QFDE"},"\xbfQFDE?"),r.a.createElement("option",{value:"RYC"},"R Y C"))),r.a.createElement("button",{className:"btn btn-primary btn-block"},""===e.currentId?"Save":"Update"))},N=function(){var e=Object(n.useState)([]),a=Object(f.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(""),i=Object(f.a)(o,2),u=i[0],E=i[1],b=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.collection("links").orderBy("noEpisode").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id}))})),c(a)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Seguro que quieres borrar este episodio?")){e.next=4;break}return e.next=3,g.collection("links").doc(a).delete();case 3:Object(s.b)("El episodio fue eliminado",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b(),console.log(t)}),[]);var N=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==u){e.next=7;break}return e.next=4,g.collection("links").doc().set(a);case 4:Object(s.b)("El nuevo episodio ha sido agregado",{type:"success"}),e.next=11;break;case 7:return e.next=9,g.collection("links").doc(u).update(a);case 9:Object(s.b)("Link Updated Successfully",{type:"info"}),E("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-4 p-2"},r.a.createElement(h,{addOrEditLink:N,currentId:u,links:t})),r.a.createElement("div",{className:"col-md-8 p-2"},r.a.createElement("h1",null,"\xdaltimo v\xeddeo agregado"),r.a.createElement("div",{className:"flex-col-reverse"},t.map((function(e){return r.a.createElement("div",{className:"card mb-1 mt-4 ",key:e.id},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(l.b,{to:"/episodios/".concat(e.id)},r.a.createElement("h4",null,e.episodeName)),r.a.createElement("p",null,e.index),r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons text-danger",onClick:function(){return v(e.id)}},"close"),r.a.createElement("i",{className:"material-icons",onClick:function(){return E(e.id)}},"create"))),r.a.createElement("p",null,e.description),""===e.specialGuest?r.a.createElement("span",null):r.a.createElement("label",null,r.a.createElement("p",null,e.specialGuest),r.a.createElement("a",{href:e.igGuest,target:"_blank",rel:"noopener noreferrer"},"Instagram"))),r.a.createElement("img",{src:e.img}),r.a.createElement("iframe",{src:e.audio}))})))))};var k=function(){return r.a.createElement(l.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,null,r.a.createElement("div",{className:"container p-4"},r.a.createElement(i.a,{path:"/episodio/:id"},r.a.createElement("div",{className:"row"})),r.a.createElement(i.a,{path:"/",exact:!0},r.a.createElement("div",{className:"row"},r.a.createElement(N,null))),r.a.createElement(s.a,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(47);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.2fc1927f.chunk.js.map